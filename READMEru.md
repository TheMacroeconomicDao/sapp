Техническое задание для P2P веб-мессенджера с шифрованием сообщений ключами MetaMask
1. Общие требования:
1.1. Мессенджер будет реализован в формате P2P веб-приложения.
1.2. Интеграция с MetaMask для аутентификации и шифрования.
1.3. Сервер будет действовать как посредник для установления P2P соединений и обмена открытыми ключами.
2. Функциональные требования:
2.1. Аутентификация:
    • Использование MetaMask для аутентификации.
    • Возможность быстрого входа и выхода без необходимости ввода дополнительных паролей.
2.2. P2P соединение:
    • Сервер должен помогать в установке начального соединения между пользователями, но не участвовать в дальнейшем обмене сообщениями.
2.3. Обмен сообщениями:
    • Поддержка отправки и получения сообщений в формате JSON через IPFS.
    • Автоматическое создание и отправка ссылок на IPFS сообщения.
2.4. Шифрование:
    • Два режима шифрования:
        1. Только ссылка на сообщение в IPFS шифруется.
        2. Шифрование как самого сообщения, так и ссылки на него.
    • Пользовательский интерфейс должен ясно демонстрировать разницу между этими режимами и помогать в выборе.
2.5. Интерфейс:
    • Модульное представление для легкости навигации.
    • Интуитивно понятные иконки и кнопки для действий, таких как отправка сообщений, выбор режима шифрования и т. д.
3. Технические требования:
3.1. Бекенд:
    • API должен обеспечивать методы для обмена ключами, инициации P2P соединений и получения данных о сессиях.
    • Защита от DDoS-атак и других видов вредоносных действий.
3.2. Фронтенд:
    • Интеграция с MetaMask через библиотеки web3.js или ethers.js.
    • Динамичный интерфейс на базе React, который подстраивается под потребности пользователя.
3.3. Безопасность:
    • SSL/TLS для защищенного соединения.
    • Продуманный процесс обработки ошибок и исключений, чтобы предотвратить утечку данных.
4. Расширяемость:
    • Код должен быть написан так, чтобы в дальнейшем можно было добавлять новые функции без больших изменений в существующей структуре.
5. Тестирование:
    • Проведение юнит-тестирования, интеграционного тестирования и нагрузочного тестирования для гарантии стабильной работы приложения.

Дополнительные улучшения:
    • Внедрение уведомлений: Пользователи должны получать уведомления о новых сообщениях или изменениях в статусе их контактов.
    • Документация: Подробная документация по работе с мессенджером для разработчиков и пользователей.
    • Многоязычность: Поддержка различных языков для расширения аудитории пользователей.
    • Логирование: Логирование всех запросов на сервере и возникновение ошибок для последующего анализа и улучшения системы.

Техническое задание для бекенда P2P веб-мессенджера
1. Общие требования:
1.1. Язык программирования: Rust.
1.2. База данных: Redis для горячих данных, с автоматической выгрузкой в IPFS через 20 часов.
1.3. Поддержка: Обеспечить совместимость с основными платформами и операционными системами.
2. Функциональные требования:
2.1. Аутентификация:
    • Добавление: Интеграция с MetaMask для аутентификации пользователей.
    • Проверка: Уведомление клиента о статусе аутентификации (успешно/неудачно).
2.2. Организация P2P соединения:
    • Поддержка WebRTC для установления прямого соединения между клиентами.
2.3. Обработка сообщений:
    • Получение, обработка и передача ссылок на сообщения в IPFS.
    • Хранение "горячих" сообщений в Redis до переноса в IPFS.
2.4. Обработка ключей:
    • Обмен открытыми ключами между пользователями для шифрования.
3. Технические требования:
3.1. Безопасность:
    • Использовать последние стандарты шифрования для защиты данных на сервере.
    • Протоколы безопасного обмена данными между клиентом и сервером.
3.2. Масштабируемость:
    • Разработка с учетом возможности горизонтального масштабирования.
3.3. Документация API:
    • Предоставление документации с примерами использования каждого API-метода.
3.4. Мониторинг и логирование:
    • Реализация систем мониторинга для отслеживания активности сервера и выявления возможных проблем.
4. Дополнительные требования:
    • Резервное копирование: Регулярное создание резервных копий данных Redis.
    • Оптимизация: Предусмотреть механизмы кэширования для ускорения работы с часто запрашиваемыми данными.
    • Тестирование: Создание набора интеграционных и единичных тестов для проверки корректности работы всех компонентов системы.
Техническое задание для фронтенда P2P веб-мессенджера
1. Общие требования:
1.1. Добавить требование о совместимости с основными веб-браузерами (Chrome, Firefox, Safari, Edge).
1.2. Добавить требование о совместимости с различными версиями MetaMask.
2. Функциональные требования:
2.1. Аутентификация:
    • Добавить информацию о том, как пользователь будет уведомлен об успешной или неудачной попытке аутентификации.
2.2. Интерфейс обмена сообщениями:
    • Возможность быстрого поиска контактов и активных чатов.
    • Отображение статуса пользователя (онлайн/офлайн).
2.3. Шифрование:
    • Интерфейс для просмотра и верификации открытых ключей контактов (для уверенности в их подлинности).
2.4. Настройки:
    • Возможность экспорта/импорта личных ключей.
3. Технические требования:
3.1. Взаимодействие с API:
    • Уточнить требования по шифрованию данных при общении с сервером.
3.2. Безопасность:
    • Уточнить механизмы, которые обеспечивают безопасное хранение приватных ключей пользователя на клиентской стороне.
3.3. Работа с IPFS:
    • Отображение прогресса загрузки сообщений в IPFS.
4. Документация:
    • Предоставление примеров использования и взаимодействия с API.
5. Расширяемость:
    • Подготовка рекомендаций по добавлению новых плагинов или расширений к мессенджеру.

Дополнительные улучшения:
    • Мультимедийные сообщения: Возможность отправки изображений, аудио и видео сообщений через IPFS.
    • Групповые чаты: Реализация создания групповых чатов с возможностью управления участниками.
    • Архивирование чатов: Возможность архивирования и восстановления старых чатов.
    • Блокировка и репорт: Возможность блокировки контактов и отправки жалоб на недопустимое поведение.
    • Энд-ту-энд тестирование: Создание тестов, эмулирующих реальное использование мессенджера с точки зрения пользователя.
